## üé• Video Search Using Suffix Arrays and KMP
# 1. üîç Why Video Search?
While exploring how YouTube and other video platforms let users search inside videos ‚Äî like finding spoken words, captions, or repeated phrases ‚Äî I realized that efficient string matching is the key. Two powerful tools caught my attention: Suffix Arrays and Knuth-Morris-Pratt (KMP) algorithm.

Let me walk you through how I understood and implemented them!
# üìå i. Suffix Array
Suffix Arrays are a sorted array of all suffixes of a string. They allow fast substring searching ‚Äî perfect for video transcript indexing where phrases or dialogues need to be located quickly.

üß† My Implementation in C++
```cpp
#include <iostream>
#include <vector>
#include <algorithm>
using namespace std;

vector<int> buildSuffixArray(const string& text) {
    int n = text.length();
    vector<pair<string, int>> suffixes;
    for (int i = 0; i < n; i++)
        suffixes.push_back({text.substr(i), i});

    sort(suffixes.begin(), suffixes.end());

    vector<int> suffixArray;
    for (auto& s : suffixes)
        suffixArray.push_back(s.second);

    return suffixArray;
}

vector<int> search(const string& pattern, const string& text, const vector<int>& suffixArray) {
    int n = text.size(), m = pattern.size();
    int low = 0, high = n - 1;
    vector<int> result;

    while (low <= high) {
        int mid = (low + high) / 2;
        string suffix = text.substr(suffixArray[mid], m);
        if (suffix == pattern) {
            result.push_back(suffixArray[mid]);
            break;
        } else if (suffix < pattern) {
            low = mid + 1;
        } else {
            high = mid - 1;
        }
    }

    return result;
}
```
## üåç The Algo, My Way
I first built the suffix array from the transcript string.

Then I performed a binary search for the target phrase.

Extremely useful for matching subtitles or phrases inside large video text dumps

# Time and Space Complexity: Suffix Array
markdown
Copy
Edit
| Operation         | Time Complexity | Space Complexity |
|------------------|------------------|------------------|
| Build Suffix Array | O(n log n)       | O(n)             |
| Search Pattern     | O(m log n)       | O(1)             |

# üìå ii. KMP (Knuth-Morris-Pratt)
KMP blew my mind ‚Äî it avoids rechecking characters during mismatches by using a prefix table. This makes it ideal for real-time search, like looking for frames containing a specific dialogue line in real time.

üß† My Implementation in C++
```cpp
#include <iostream>
#include <vector>
using namespace std;

vector<int> buildLPS(const string& pattern) {
    int m = pattern.size();
    vector<int> lps(m, 0);
    int len = 0;

    for (int i = 1; i < m; ) {
        if (pattern[i] == pattern[len]) {
            lps[i++] = ++len;
        } else {
            if (len != 0) len = lps[len - 1];
            else i++;
        }
    }

    return lps;
}

vector<int> KMPSearch(const string& text, const string& pattern) {
    int n = text.size(), m = pattern.size();
    vector<int> lps = buildLPS(pattern);
    vector<int> result;

    int i = 0, j = 0;
    while (i < n) {
        if (text[i] == pattern[j]) {
            i++, j++;
        }

        if (j == m) {
            result.push_back(i - j);
            j = lps[j - 1];
        } else if (i < n && text[i] != pattern[j]) {
            if (j != 0) j = lps[j - 1];
            else i++;
        }
    }

    return result;
}
```
# üåç The Algo, My Way
I built a Longest Prefix Suffix (LPS) table first.

Then I scanned the video transcript with one pass using the KMP search.

It's blazing fast and doesn't backtrack ‚Äî very handy for highlighting scenes or flagging repeated content.
#  Time and Space Complexity: KMP (Knuth-Morris-Pratt)


| Operation            | Time Complexity | Space Complexity |
|----------------------|------------------|------------------|
| Build LPS Array      | O(m)             | O(m)             |
| Search Pattern       | O(n)             | O(n + m)         |


 # üîÑ Comparison Table: Suffix Array vs KMP

| Feature             | Suffix Array             | KMP                         |
|---------------------|--------------------------|------------------------------|
| **Best for**        | Static transcript search | Real-time search             |
| **Search Speed**    | O(m log n)               | O(n)                         |
| **Preprocessing**   | O(n log n)               | O(m)                         |
| **Use case**        | Phrase location          | Instant matching while watching |
| **Space Usage**     | Moderate                 | Low                          |
| **Supports prefix** | ‚úÖ                       | ‚úÖ                           |


